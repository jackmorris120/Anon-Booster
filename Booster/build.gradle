plugins {
    id 'com.github.johnrengelman.shadow' version '5.1.0'
    id 'java'
}

// Configure Java version and encoding
java {
    sourceCompatibility = JavaVersion.VERSION_1_8
    targetCompatibility = JavaVersion.VERSION_1_8
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

repositories {
    mavenCentral()
}

dependencies {
    implementation group: 'org.evosuite', name: 'evosuite-standalone-runtime', version: '1.0.6'
    implementation group: 'dk.brics.automaton', name: 'automaton', version: '1.11-8'
    implementation 'junit:junit:4.13.2'
    testImplementation 'junit:junit:4.13.2'
    implementation group: 'fr.inria.gforge.spoon', name: 'spoon-core', version: '9.1.0'
    implementation 'org.mdkt.compiler:InMemoryJavaCompiler:1.3.0'
    implementation 'org.dvare:dynamic-loader:2.0'
    implementation 'org.slf4j:slf4j-simple:1.7.36'
}

def shadow_jar = rootProject.name + '-shadow'

shadowJar {
    baseName = shadow_jar
    classifier = null
    version = null
}
